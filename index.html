<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>A-Frame UX Library | v0.1 Engine Testing</title>
<!-- A-Frame official release 1.4.0 -->
<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
<!-- MVP.css -->
<link rel="stylesheet" href="./assets/css/mvp.css">
<!-- CSS -->
<link rel="stylesheet" href="./assets/css/style.css">
</head>
<!-- Look-At & ThreeGradShader JS -->
<script>
/*
Look-At 
https://github.com/supermedium/superframe/tree/master/components/look-at/ 
*/
!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){var o=AFRAME.utils.debug,n=AFRAME.utils.coordinates,i=o("components:look-at:warn"),r=n.isCoordinates||n.isCoordinate;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"0 0 0",parse:function(e){return r(e)||"object"==typeof e?n.parse(e):e},stringify:function(e){return"object"==typeof e?n.stringify(e):e}},init:function(){this.target3D=null,this.vector=new THREE.Vector3,this.cameraListener=AFRAME.utils.bind(this.cameraListener,this),this.el.addEventListener("componentinitialized",this.cameraListener),this.el.addEventListener("componentremoved",this.cameraListener)},update:function(){var e,t=this,o=t.data;return!o||"object"==typeof o&&!Object.keys(o).length?t.remove():"object"==typeof o?this.lookAt(new THREE.Vector3(o.x,o.y,o.z)):(e=t.el.sceneEl.querySelector(o),e?e.hasLoaded?t.beginTracking(e):e.addEventListener("loaded",function(){t.beginTracking(e)}):void i('"'+o+'" does not point to a valid entity to look-at'))},tick:function(){var e=new THREE.Vector3;return function(t){var o=this.target3D;o&&(o.getWorldPosition(e),this.lookAt(e))}}(),remove:function(){this.el.removeEventListener("componentinitialized",this.cameraListener),this.el.removeEventListener("componentremoved",this.cameraListener)},beginTracking:function(e){this.target3D=e.object3D},cameraListener:function(e){e.detail&&"camera"===e.detail.name&&this.update()},lookAt:function(e){var t=this.vector,o=this.el.object3D;this.el.getObject3D("camera")?t.subVectors(o.position,e).add(o.position):t.copy(e),o.lookAt(t)}})}]);

/* //threeColorGradientShader shader
https://github.com/tlaukkan/aframe-three-color-gradient-shader
if (typeof AFRAME === 'undefined') {
    throw new Error('Component attempted to register before AFRAME was available.');
}*/
AFRAME.registerShader('threeColorGradientShader', {
    schema: {
        topColor: {type: 'color', default: '1 0 0', is: 'uniform'},
        middleColor: {type: 'color', default: '0 1 0', is: 'uniform'},
        bottomColor: {type: 'color', default: '0 0 1', is: 'uniform'}
    },

    vertexShader: [
        'varying vec3 vWorldPosition;',
        'void main() {',
        ' vec4 worldPosition = modelMatrix * vec4( position, 1.0 );',
        ' vWorldPosition = worldPosition.xyz;',
        ' gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );',
        '}'
    ].join('\n'),

    fragmentShader: [
        'uniform vec3 bottomColor;',
        'uniform vec3 middleColor;',
        'uniform vec3 topColor;',
        'uniform float offset;',
        'varying vec3 vWorldPosition;',
        'void main() {',
        ' float h = normalize( vWorldPosition ).y;',
        ' if (h>0.0) {',
        '   gl_FragColor = vec4( mix( middleColor, topColor, max( pow( max(h, 0.0 ), 0.8 ), 0.0 ) ), 1.0 );',
        ' } else {',
        '   gl_FragColor = vec4( mix( middleColor, bottomColor, max( pow( max(-h, 0.0 ), 0.8 ), 0.0 ) ), 1.0 );',
        ' }',
        '}'
    ].join('\n')
});
</script>
<!-- A-Frame UX Library Engine v0.1 -->
<script src="./auxl-v01.js"></script>
<body>
<!-- Sticky -->
<div id="stickyBar" class="sticky flexRow">
	<span class="flexRow flexStart">
		<img id="stickyIcon" src="./assets/img/favicon/logo.png" alt="site-icon" / class="flexCol">
		<span id="stickyTitle" class="flexCol"><h3> A-Frame UX Library | v0.1</h3></span>
	</span>
	<span class="flexRow">
		<button id="stickySwapControls" class="flexCol">Desktop:Enabled</button>
		<button id="sticky3D" class="flexCol">VR</button>
	</span>
</div>
<main>
<a-scene
auxl
stats
swap-controls
vr-mode-ui="enabled: true; enterVRButton: #sticky3D;"
renderer="antialias: true; colorManagement: true; sortObjects: true"
>
<!-- - - - - - - - - - - Assets - - - - - - - - - - -->
<a-assets timeout="3000">

<!-- - - - - - - - - - - Import - - - - - - - - - - -->

<!-- - - - - - - - - - - Timeline - - - - - - - - - - -->

<!-- - - - - - - - - - - Mixins - - - - - - - - - - -->
</a-assets>
<!-- - - - - - - - - - - Player Controls - - - - - - - - - - -->
<a-entity id="player" position="0 0 0"
wasd-controls="enabled: true; acceleration: 25;"
><a-camera id="camera"
position="0 1.6 0"
look-controls="pointerLockEnabled: false"
wasd-controls="enabled: false;"
></a-camera></a-entity>
<!-- - - - - - - - - - - Lights - - - - - - - - - - -->
<!-- Lights -->
<!-- Directional -->
<a-entity id="directionalLight"
  light="type: directional; intensity: 0.5; castShadow: false" position="0 0.65 0.25"
></a-entity>
<!-- Ambient -->
<a-entity id="ambientLight"
light="type: ambient; color: #716a9a; intensity: 0.5"
></a-entity> 

<!-- - - - - - - - - - - Debug - - - - - - - - - - -->
<!-- Display Input -->
<a-entity id="displayInput" 
position="0 3.5 -3" rotation="45 0 0"
geometry="primitive: plane; width: 1.5; height: 0.6;"
material="color: #304a39; shader: flat; opacity: 1; side: double"
text="value: No Input; color: white; align: center;"
>
<a-text
value="Display Input"
color="white" align="center" width="1.4" position="0 0.225 0"
></a-text></a-entity>
</a-scene>
</main>
</body>
</html>